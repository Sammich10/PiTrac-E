#!/bin/bash

SDK_PATH=
VER=5.0.12
SDK_ENV=environment-setup-cortexa76-pitrac-linux
if [ -z "${PITRAC_SDK_PATH}" ]; then
    echo "PITRAC_SDK_PATH environment variable is not set. Defaulting to ${SDK_PATH}/${VER}/${SDK_ENV}."
    SDK_PATH="opt/pitrac/${VER}/${SDK_ENV}"
else
    SDK_PATH="${PITRAC_SDK_PATH}"
fi

# Check if the SDK environment file exists
if [ ! -f ${SDK_PATH} ]; then
    echo "SDK environment file ${SDK_PATH} not found. Please ensure the SDK is installed correctly."
    return 1
else
    echo "Sourcing SDK environment from ${SDK_PATH}"
    . ${SDK_PATH}
    export YOCTO_SDK_PATH=${SDK_PATH}
    echo "SDK environment sourced successfully."
fi